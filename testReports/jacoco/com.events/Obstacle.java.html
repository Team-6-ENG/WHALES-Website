<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Obstacle.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tests</a> &gt; <a href="index.source.html" class="el_package">com.events</a> &gt; <span class="el_source">Obstacle.java</span></div><h1>Obstacle.java</h1><pre class="source lang-java linenums">package com.events;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.Sprite;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.math.Rectangle;
import com.badlogic.gdx.math.Vector2;
import com.rooms.WorldMap;

/**
 * Obstacle to stop the movement of the player.
 *
 * @author Hamza Ahmad
 */
public class Obstacle implements Event {
  /** Boundaries of the rectangle. */
  private final Rectangle bounds;

  /** Sprite to render in association with this obstacle. */
  private final Sprite sprite;

<span class="fc" id="L23">  public boolean inRoom = false;</span>

  /** Whether this obstacle blocks movement. */
  private Boolean solid;

<span class="fc" id="L28">  private Boolean triggered = false;</span>
  private String textureInternalPath;

  /**
   * Constructor for obstacles.
   *
   * @param height The height of the obstacle.
   * @param width The width of the obstacle.
   * @param x The x position of the obstacle.
   * @param y The y position of the obstacle.
   */
<span class="fc" id="L39">  public Obstacle(float x, float y, float width, float height) {</span>
<span class="fc" id="L40">    this.bounds = new Rectangle(x, y, width, height);</span>
<span class="fc" id="L41">    this.sprite = null;</span>

    // Assume no sprite means not solid
<span class="fc" id="L44">    this.solid = false;</span>
<span class="fc" id="L45">  }</span>

  /**
   * Constructor for obstacles.
   *
   * @param height The height of the obstacle.
   * @param width The width of the obstacle.
   * @param x The x position of the obstacle.
   * @param y The y position of the obstacle.
   * @param textureInternalPath The path to the texture to render for this obstacle
   */
<span class="fc" id="L56">  public Obstacle(float x, float y, float width, float height, String textureInternalPath) {</span>
<span class="pc bpc" id="L57" title="1 of 2 branches missed.">    if (!Gdx.files.internal(textureInternalPath).exists()) {</span>
<span class="nc" id="L58">      System.out.println(&quot;Couldn't find texture &quot; + textureInternalPath + &quot;for Obstacle&quot;);</span>
    }
<span class="fc" id="L60">    this.bounds = new Rectangle(x, y, width, height);</span>
<span class="fc" id="L61">    Texture texture = new Texture(textureInternalPath);</span>
<span class="fc" id="L62">    sprite = new Sprite(texture);</span>
<span class="fc" id="L63">    sprite.setSize(width, height);</span>
<span class="fc" id="L64">    sprite.setPosition(x, y);</span>

<span class="fc" id="L66">    this.textureInternalPath = textureInternalPath;</span>

    // Assume sprite existing means solid
<span class="fc" id="L69">    this.solid = true;</span>
<span class="fc" id="L70">  }</span>

  /**
   * Get string path of obstacle textrue.
   *
   * @return path
   */
  public String getTextureInternalPath() {
<span class="fc bfc" id="L78" title="All 2 branches covered.">    if (textureInternalPath == null) {</span>
<span class="fc" id="L79">      return &quot;&quot;;</span>
    }
<span class="fc" id="L81">    return textureInternalPath;</span>
  }

  /**
   * Draw objects on screen.
   *
   * @param batch current sprite batch
   */
  public void render(SpriteBatch batch) {
<span class="nc bnc" id="L90" title="All 2 branches missed.">    if (sprite != null) {</span>
<span class="nc" id="L91">      sprite.draw(batch);</span>
    }
<span class="nc" id="L93">  }</span>

  /**
   * Bring to screen Created 24/11/25 to tidy WorldScreen.
   *
   * @param worldMap current instance of map
   */
  public void moveToRoom(WorldMap worldMap) {
<span class="fc" id="L101">    setPosition(getPosition());</span>
<span class="fc" id="L102">    inRoom = true;</span>
<span class="fc" id="L103">  }</span>

  /** Remove from screen Created 24/11/25 to tidy WorldScreen. */
  public void leaveRoom() {
<span class="nc" id="L107">    inRoom = false;</span>
<span class="nc" id="L108">  }</span>

  /**
   * Check if item can ba walked over.
   *
   * @return &lt;code&gt;solid&lt;/code&gt;
   */
  public Boolean getSolid() {
<span class="fc" id="L116">    return solid;</span>
  }

  /**
   * Set value of &lt;code&gt;solid&lt;/code&gt;.
   *
   * @param solid state to set solid to
   */
  public void setSolid(Boolean solid) {
<span class="fc" id="L125">    this.solid = solid;</span>
<span class="fc" id="L126">  }</span>

  /** Getter for the boundaries of the rectangle. */
  public Rectangle getBounds() {
<span class="fc" id="L130">    return bounds;</span>
  }

  @Override
  public Vector2 getPosition() {
<span class="fc" id="L135">    Vector2 centre = new Vector2();</span>
<span class="fc" id="L136">    return bounds.getCenter(centre);</span>
  }

  @Override
  public void setPosition(Vector2 position) {
<span class="fc" id="L141">    bounds.setPosition(position.x, position.y);</span>
<span class="pc bpc" id="L142" title="1 of 2 branches missed.">    if (sprite != null) {</span>
<span class="nc" id="L143">      sprite.setPosition(position.x, position.y);</span>
    }
<span class="fc" id="L145">  }</span>

  public Texture getTexture() {
<span class="nc" id="L148">    return sprite.getTexture();</span>
  }

  @Override
  public boolean isTriggered() {
<span class="nc" id="L153">    return this.triggered;</span>
  }

  @Override
  public void trigger() {
<span class="fc" id="L158">    this.triggered = true;</span>
<span class="fc" id="L159">  }</span>

  /** Dispose of textures. */
  public void dispose() {
<span class="fc" id="L163">    sprite.getTexture().dispose();</span>
<span class="fc" id="L164">    setSolid(false);</span>
<span class="fc" id="L165">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>